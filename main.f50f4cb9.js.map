{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","tbody","index","select","target","children","forEach","el","classList","remove","toggle","addEventListener","e","closest","cellIndex","sorted","sort","a","b","itemA","cells","innerHTML","itemB","charAt","slice","split","join","localeCompare","reverse","append","contains","insertAdjacentHTML","form","forms","validation","value","trim","createNotification","name","length","normalizeSalary","thousandsSeparator","Intl","NumberFormat","format","title","description","type","div","createElement","setAttribute","className","body","setTimeout","preventDefault","elements","row","formWithoutBtn","position","office","age","salary","reset","init","input","querySelectorAll","cloneNode","add","focus","keyEvent","key","blur"],"mappings":"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","file":"main.f50f4cb9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nlet index = -1;\n\nthead.addEventListener('click', (e) => {\n  const target = e.target.closest('th');\n  const cellIndex = target.cellIndex;\n\n  if (!target) {\n    return;\n  }\n\n  const sorted = [...tbody.children].sort((a, b) => {\n    let itemA = a.cells[cellIndex].innerHTML;\n    let itemB = b.cells[cellIndex].innerHTML;\n\n    if (itemA.charAt(0) === '$') {\n      itemA = +itemA.slice(1).split(',').join('');\n      itemB = +itemB.slice(1).split(',').join('');\n\n      return itemA - itemB;\n    }\n\n    return itemA.localeCompare(itemB);\n  });\n\n  if (cellIndex === index) {\n    sorted.reverse();\n  }\n\n  sorted.forEach(el => {\n    tbody.append(el);\n  });\n\n  index = cellIndex === index ? -1 : cellIndex;\n});\n\ntbody.addEventListener('click', (e) => {\n  const target = e.target.closest('tr');\n\n  target.classList.contains('active')\n    ? target.classList.remove('active')\n    : select(target);\n});\n\nfunction select(target) {\n  const rows = [...tbody.children];\n\n  rows.forEach(el => el.classList.remove('active'));\n\n  target.classList.toggle('active');\n}\n\ndocument.querySelector('table').insertAdjacentHTML('afterend', `\n  <form class=\"new-employee-form\">\n    <label>\n      Name:\n      <input\n        name=\"name\"\n        type=\"text\"\n        data-qa=\"name\"\n      >\n    </label>\n\n    <label>\n      Position:\n      <input\n        name=\"position\"\n        type=\"text\"\n        data-qa=\"position\"\n      >\n    </label>\n\n    <label>\n      Office:\n      <select\n        name=\"office\"\n        data-qa=\"office\"\n      >\n        <option value=\"Tokyo\">\n          Tokyo\n        </option>\n\n        <option value=\"Singapore\">\n          Singapore\n        </option>\n\n        <option value=\"London\">\n          London\n        </option>\n\n        <option value=\"New York\">\n          New York\n        </option>\n\n        <option value=\"Edinburgh\">\n          Edinburgh\n        </option>\n\n        <option value=\"San Francisco\">\n          San Francisco\n        </option>\n      </select>\n    </label>\n\n    <label>\n      Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        data-qa=\"age\"\n      >\n    </label>\n\n    <label>\n      Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        data-qa=\"salary\"\n      >\n    </label>\n\n    <button type=\"submit\">\n      Save to table\n    </button>\n  </form>\n`);\n\nconst form = document.forms[0];\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const elements = form.elements;\n  const row = document.createElement('tr');\n  const formWithoutBtn = [...elements].slice(0, elements.length - 1);\n\n  for (const el of formWithoutBtn) {\n    if (!validation(el)) {\n      return;\n    }\n  }\n\n  row.insertAdjacentHTML('beforeend', `\n    <td>${elements.name.value.trim()}</td>\n    <td>${elements.position.value.trim()}</td>\n    <td>${elements.office.value}</td>\n    <td>${elements.age.value}</td>\n    <td>${normalizeSalary(elements.salary.value)}</td>\n  `);\n\n  tbody.append(row);\n\n  createNotification('Success!', 'A new employee has been added', 'success');\n\n  form.reset();\n});\n\nfunction validation(el) {\n  const value = el.value.trim();\n\n  if (value === '') {\n    createNotification(\n      'Error!',\n      'All fields are required',\n      'error'\n    );\n\n    return false;\n  }\n\n  if (el.name === 'name' && (value.length < 4 || value.length > 16)) {\n    createNotification(\n      'Error!',\n      'Name should be 4 - 16 characters',\n      'error'\n    );\n\n    return false;\n  }\n\n  if (el.name === 'age' && (value < 18 || value > 90)) {\n    createNotification(\n      'Error!',\n      'Age must be greater than 18 and less than 90',\n      'error'\n    );\n\n    return false;\n  }\n\n  if (el.name === 'salary' && value < 0) {\n    createNotification(\n      'Error!',\n      'Salary cannot be less than 0',\n      'error'\n    );\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction normalizeSalary(value) {\n  const thousandsSeparator = new Intl.NumberFormat('en-us');\n\n  return `$${thousandsSeparator.format(value)}`;\n}\n\nfunction createNotification(title, description, type) {\n  const div = document.createElement('div');\n\n  if (document.querySelector('.notification')) {\n    return;\n  }\n\n  div.setAttribute('data-qa', 'notification');\n\n  div.className = `notification ${type}`;\n\n  div.insertAdjacentHTML('beforeend', `\n    <h2 class=\"title\">\n      ${title}\n    </h2>\n    <p>\n      ${description}\n    </p>\n  `);\n\n  document.body.append(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n}\n\ntbody.addEventListener('dblclick', (e) => {\n  const target = e.target.closest('td');\n\n  if (!target) {\n    return;\n  }\n\n  const cellIndex = target.cellIndex;\n  const init = target.innerHTML;\n  const input = form.querySelectorAll('[name]')[cellIndex].cloneNode(true);\n\n  input.classList.add('cell-input');\n\n  if (document.querySelector('.cell-input')) {\n    return;\n  }\n\n  target.innerHTML = '';\n  input.value = init;\n  target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    if (!validation(input)) {\n      target.innerHTML = init;\n      input.remove();\n\n      return;\n    }\n\n    target.innerHTML = input.name === 'salary'\n      ? target.innerHTML = normalizeSalary(input.value)\n      : input.value.trim();\n\n    input.remove();\n\n    if (input.value.trim() !== init) {\n      createNotification(\n        'Success!',\n        'Employee information was successfully updated',\n        'success'\n      );\n    }\n  });\n\n  input.addEventListener('keydown', (keyEvent) => {\n    if (keyEvent.key === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}